{
  "title": "Flight Concierge Sorter input",
  "description": "Two modes: (1) Search mode: provide origin, destination, departDate and the actor will fetch from Skyscanner and Kayak itself, then filter and sort. (2) Sort-only mode: provide flightOffers (from any source) and optional filters; output is filtered and sorted.",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "origin": {
      "title": "Origin (IATA)",
      "type": "string",
      "description": "Departure airport code (e.g. JFK, LAX). Used in search mode to fetch from Skyscanner and Kayak.",
      "editor": "textfield",
      "nullable": true
    },
    "destination": {
      "title": "Destination (IATA)",
      "type": "string",
      "description": "Arrival airport code. Used in search mode.",
      "editor": "textfield",
      "nullable": true
    },
    "departDate": {
      "title": "Depart date",
      "type": "string",
      "description": "Outbound date YYYY-MM-DD. Used in search mode.",
      "editor": "textfield",
      "nullable": true
    },
    "returnDate": {
      "title": "Return date",
      "type": "string",
      "description": "Return date YYYY-MM-DD (optional, one-way if omitted).",
      "editor": "textfield",
      "nullable": true
    },
    "adults": {
      "title": "Adults",
      "type": "integer",
      "description": "Number of adult passengers (search mode).",
      "editor": "number",
      "default": 1,
      "minimum": 1,
      "nullable": true
    },
    "currency": {
      "title": "Currency",
      "type": "string",
      "description": "Currency code (e.g. USD). Used in search mode.",
      "editor": "textfield",
      "default": "USD",
      "nullable": true
    },
    "cabinClass": {
      "title": "Cabin class",
      "type": "string",
      "description": "economy, premium-economy, business, first.",
      "editor": "select",
      "default": "economy",
      "enum": ["economy", "premium-economy", "business", "first"],
      "nullable": true
    },
    "flightOffers": {
      "title": "Flight offers (sort-only mode)",
      "type": "array",
      "description": "When provided, the actor only filters and sorts (no fetch). Omit and use origin/destination/departDate for search mode.",
      "editor": "json",
      "nullable": true
    },
    "sortBy": {
      "title": "Sort by",
      "type": "string",
      "description": "How to order the flight offers.",
      "editor": "select",
      "default": "price_asc",
      "enum": [
        "price_asc",
        "price_desc",
        "duration_asc",
        "duration_desc",
        "stops_asc",
        "stops_desc",
        "departure_asc",
        "departure_desc",
        "score_desc"
      ],
      "enumTitles": [
        "Price (low to high)",
        "Price (high to low)",
        "Duration (shortest first)",
        "Duration (longest first)",
        "Stops (fewest first)",
        "Stops (most first)",
        "Departure (earliest first)",
        "Departure (latest first)",
        "Preference score (best first)"
      ]
    },
    "maxPrice": { "title": "Max price", "type": "number", "editor": "number", "nullable": true },
    "minPrice": { "title": "Min price", "type": "number", "editor": "number", "nullable": true },
    "maxStops": { "title": "Max stops", "type": "integer", "editor": "number", "nullable": true, "minimum": 0 },
    "directOnly": { "title": "Direct airline only", "type": "boolean", "editor": "checkbox", "default": false },
    "includeAirlines": { "title": "Include airlines", "type": "array", "editor": "stringList", "nullable": true },
    "excludeAirlines": { "title": "Exclude airlines", "type": "array", "editor": "stringList", "nullable": true }
  },
  "required": ["sortBy"]
}
